jaxon.config.requestURI='/jaxon';jaxon.config.statusMessages=false;jaxon.config.waitCursor=true;jaxon.config.version='Jaxon 5.x';jaxon.config.defaultMode='asynchronous';jaxon.config.defaultMethod='POST';jaxon.config.responseType='JSON';jaxon.setCsrf('csrf-token');jaxon.dom.ready(()=>jaxon.processCustomAttrs());jaxon.dom.ready(()=>jaxon.dialog.config({"labels":{"confirm":{"yes":"Yes","no":"No"}},"defaults":{"modal":"bootbox","alert":"toastr","confirm":"noty"}}));const jx={rc:(name,method,parameters,options={})=>jaxon.request({type:'class',name,method},{parameters,...options}),rf:(name,parameters,options={})=>jaxon.request({type:'func',name},{parameters,...options}),c0:'Lagdo.DbAdmin.Ajax.Admin.Admin',c1:'Lagdo.DbAdmin.Ajax.Admin.Db.Command.Query.FavoriteFunc',c2:'Lagdo.DbAdmin.Ajax.Admin.Db.Command.Query.FavoritePage',c3:'Lagdo.DbAdmin.Ajax.Admin.Db.Database.Database',c4:'Lagdo.DbAdmin.Ajax.Admin.Db.Database.Events',c5:'Lagdo.DbAdmin.Ajax.Admin.Db.Database.Export',c6:'Lagdo.DbAdmin.Ajax.Admin.Db.Database.Import',c7:'Lagdo.DbAdmin.Ajax.Admin.Db.Database.Query',c8:'Lagdo.DbAdmin.Ajax.Admin.Db.Database.Routines',c9:'Lagdo.DbAdmin.Ajax.Admin.Db.Database.Sequences',c10:'Lagdo.DbAdmin.Ajax.Admin.Db.Database.Tables',c11:'Lagdo.DbAdmin.Ajax.Admin.Db.Database.UserTypes',c12:'Lagdo.DbAdmin.Ajax.Admin.Db.Database.Views',c13:'Lagdo.DbAdmin.Ajax.Admin.Db.Server.Databases',c14:'Lagdo.DbAdmin.Ajax.Admin.Db.Server.Export',c15:'Lagdo.DbAdmin.Ajax.Admin.Db.Server.Import',c16:'Lagdo.DbAdmin.Ajax.Admin.Db.Server.Privilege',c17:'Lagdo.DbAdmin.Ajax.Admin.Db.Server.Privileges',c18:'Lagdo.DbAdmin.Ajax.Admin.Db.Server.Processes',c19:'Lagdo.DbAdmin.Ajax.Admin.Db.Server.Query',c20:'Lagdo.DbAdmin.Ajax.Admin.Db.Server.Status',c21:'Lagdo.DbAdmin.Ajax.Admin.Db.Server.Variables',c22:'Lagdo.DbAdmin.Ajax.Admin.Db.Table.Ddl.Alter',c23:'Lagdo.DbAdmin.Ajax.Admin.Db.Table.Ddl.Columns',c24:'Lagdo.DbAdmin.Ajax.Admin.Db.Table.Ddl.Create',c25:'Lagdo.DbAdmin.Ajax.Admin.Db.Table.Ddl.Table',c26:'Lagdo.DbAdmin.Ajax.Admin.Db.Table.Dml.Delete',c27:'Lagdo.DbAdmin.Ajax.Admin.Db.Table.Dml.Insert',c28:'Lagdo.DbAdmin.Ajax.Admin.Db.Table.Dml.Update',c29:'Lagdo.DbAdmin.Ajax.Admin.Db.Table.Dql.Options.Fields.Columns',c30:'Lagdo.DbAdmin.Ajax.Admin.Db.Table.Dql.Options.Fields.Filters',c31:'Lagdo.DbAdmin.Ajax.Admin.Db.Table.Dql.Options.Fields.Form.Columns',c32:'Lagdo.DbAdmin.Ajax.Admin.Db.Table.Dql.Options.Fields.Form.Filters',c33:'Lagdo.DbAdmin.Ajax.Admin.Db.Table.Dql.Options.Fields.Form.Sorting',c34:'Lagdo.DbAdmin.Ajax.Admin.Db.Table.Dql.Options.Fields.Sorting',c35:'Lagdo.DbAdmin.Ajax.Admin.Db.Table.Dql.Options.Values',c36:'Lagdo.DbAdmin.Ajax.Admin.Db.Table.Dql.ResultSet',c37:'Lagdo.DbAdmin.Ajax.Admin.Db.Table.Dql.Select',c38:'Lagdo.DbAdmin.Ajax.Admin.Db.View.Ddl.Form',c39:'Lagdo.DbAdmin.Ajax.Admin.Db.View.Ddl.View',c40:'Lagdo.DbAdmin.Ajax.Admin.Db.View.Dql.Select',};Lagdo={DbAdmin:{Ajax:{Admin:{Admin:{server:(...args)=>jx.rc(jx.c0,'server',args,{bags:["dbadmin"]}),},Db:{Command:{Query:{FavoriteFunc:{add:(...args)=>jx.rc(jx.c1,'add',args,{bags:["dbadmin"]}),create:(...args)=>jx.rc(jx.c1,'create',args,{bags:["dbadmin"]}),edit:(...args)=>jx.rc(jx.c1,'edit',args,{bags:["dbadmin"]}),update:(...args)=>jx.rc(jx.c1,'update',args,{bags:["dbadmin"]}),delete:(...args)=>jx.rc(jx.c1,'delete',args,{bags:["dbadmin"]}),},FavoritePage:{page:(...args)=>jx.rc(jx.c2,'page',args,{bags:["dbadmin"]}),},},},Database:{Database:{select:(...args)=>jx.rc(jx.c3,'select',args,{bags:["dbadmin"]}),add:(...args)=>jx.rc(jx.c3,'add',args,{bags:["dbadmin"]}),create:(...args)=>jx.rc(jx.c3,'create',args,{bags:["dbadmin"]}),drop:(...args)=>jx.rc(jx.c3,'drop',args,{bags:["dbadmin"]}),},Events:{show:(...args)=>jx.rc(jx.c4,'show',args,{bags:["dbadmin"]}),},Export:{database:(...args)=>jx.rc(jx.c5,'database',args,{bags:["dbadmin"]}),export:(...args)=>jx.rc(jx.c5,'export',args,{bags:["dbadmin"]}),},Import:{database:(...args)=>jx.rc(jx.c6,'database',args,{bags:["dbadmin"]}),executeWebFile:(...args)=>jx.rc(jx.c6,'executeWebFile',args,{bags:["dbadmin"]}),executeSqlFiles:(...args)=>jx.rc(jx.c6,'executeSqlFiles',args,{bags:["dbadmin"],upload:'dbadmin-import-sql-files-input'}),},Query:{database:(...args)=>jx.rc(jx.c7,'database',args,{bags:["dbadmin"]}),exec:(...args)=>jx.rc(jx.c7,'exec',args,{bags:["dbadmin"]}),},Routines:{show:(...args)=>jx.rc(jx.c8,'show',args,{bags:["dbadmin"]}),},Sequences:{show:(...args)=>jx.rc(jx.c9,'show',args,{bags:["dbadmin"]}),},Tables:{show:(...args)=>jx.rc(jx.c10,'show',args,{bags:["dbadmin"]}),},UserTypes:{show:(...args)=>jx.rc(jx.c11,'show',args,{bags:["dbadmin"]}),},Views:{show:(...args)=>jx.rc(jx.c12,'show',args,{bags:["dbadmin"]}),},},Server:{Databases:{show:(...args)=>jx.rc(jx.c13,'show',args,{bags:["dbadmin"]}),},Export:{server:(...args)=>jx.rc(jx.c14,'server',args,{bags:["dbadmin"]}),export:(...args)=>jx.rc(jx.c14,'export',args,{bags:["dbadmin"]}),},Import:{server:(...args)=>jx.rc(jx.c15,'server',args,{bags:["dbadmin"]}),executeWebFile:(...args)=>jx.rc(jx.c15,'executeWebFile',args,{bags:["dbadmin"]}),executeSqlFiles:(...args)=>jx.rc(jx.c15,'executeSqlFiles',args,{bags:["dbadmin"],upload:'dbadmin-import-sql-files-input'}),},Privilege:{add:(...args)=>jx.rc(jx.c16,'add',args,{bags:["dbadmin"]}),create:(...args)=>jx.rc(jx.c16,'create',args,{bags:["dbadmin"]}),edit:(...args)=>jx.rc(jx.c16,'edit',args,{bags:["dbadmin"]}),update:(...args)=>jx.rc(jx.c16,'update',args,{bags:["dbadmin"]}),},Privileges:{show:(...args)=>jx.rc(jx.c17,'show',args,{bags:["dbadmin"]}),},Processes:{show:(...args)=>jx.rc(jx.c18,'show',args,{bags:["dbadmin"]}),},Query:{server:(...args)=>jx.rc(jx.c19,'server',args,{bags:["dbadmin"]}),exec:(...args)=>jx.rc(jx.c19,'exec',args,{bags:["dbadmin"]}),},Status:{show:(...args)=>jx.rc(jx.c20,'show',args,{bags:["dbadmin"]}),},Variables:{show:(...args)=>jx.rc(jx.c21,'show',args,{bags:["dbadmin"]}),},},Table:{Ddl:{Alter:{save:(...args)=>jx.rc(jx.c22,'save',args,{export:{"base":["render"]},bags:["dbadmin","dbadmin.table"]}),drop:(...args)=>jx.rc(jx.c22,'drop',args,{export:{"base":["render"]},bags:["dbadmin","dbadmin.table"]}),render:(...args)=>jx.rc(jx.c22,'render',args,{export:{"base":["render"]},bags:["dbadmin","dbadmin.table"]}),},Columns:{add:(...args)=>jx.rc(jx.c23,'add',args,{bags:["dbadmin","dbadmin.table"]}),del:(...args)=>jx.rc(jx.c23,'del',args,{bags:["dbadmin","dbadmin.table"]}),cancel:(...args)=>jx.rc(jx.c23,'cancel',args,{bags:["dbadmin","dbadmin.table"]}),},Create:{show:(...args)=>jx.rc(jx.c24,'show',args,{bags:["dbadmin","dbadmin.table"]}),save:(...args)=>jx.rc(jx.c24,'save',args,{bags:["dbadmin","dbadmin.table"]}),},Table:{show:(...args)=>jx.rc(jx.c25,'show',args,{bags:["dbadmin"]}),},},Dml:{Delete:{exec:(...args)=>jx.rc(jx.c26,'exec',args,{bags:["dbadmin","dbadmin.select"]}),showQueryCode:(...args)=>jx.rc(jx.c26,'showQueryCode',args,{bags:["dbadmin","dbadmin.select"]}),},Insert:{show:(...args)=>jx.rc(jx.c27,'show',args,{bags:["dbadmin","dbadmin.select","dbadmin.row.edit"]}),save:(...args)=>jx.rc(jx.c27,'save',args,{bags:["dbadmin","dbadmin.select","dbadmin.row.edit"]}),showQueryForm:(...args)=>jx.rc(jx.c27,'showQueryForm',args,{bags:["dbadmin","dbadmin.select","dbadmin.row.edit"]}),showQueryCode:(...args)=>jx.rc(jx.c27,'showQueryCode',args,{bags:["dbadmin","dbadmin.select","dbadmin.row.edit"]}),},Update:{edit:(...args)=>jx.rc(jx.c28,'edit',args,{bags:["dbadmin","dbadmin.select"]}),save:(...args)=>jx.rc(jx.c28,'save',args,{bags:["dbadmin","dbadmin.select"]}),showQueryForm:(...args)=>jx.rc(jx.c28,'showQueryForm',args,{bags:["dbadmin","dbadmin.select"]}),showQueryCode:(...args)=>jx.rc(jx.c28,'showQueryCode',args,{bags:["dbadmin","dbadmin.select"]}),},},Dql:{Options:{Fields:{Columns:{edit:(...args)=>jx.rc(jx.c29,'edit',args,{bags:["dbadmin","dbadmin.select"]}),save:(...args)=>jx.rc(jx.c29,'save',args,{bags:["dbadmin","dbadmin.select"]}),},Filters:{edit:(...args)=>jx.rc(jx.c30,'edit',args,{bags:["dbadmin","dbadmin.select"]}),save:(...args)=>jx.rc(jx.c30,'save',args,{bags:["dbadmin","dbadmin.select"]}),},Form:{Columns:{show:(...args)=>jx.rc(jx.c31,'show',args,{bags:["dbadmin","dbadmin.select"]}),add:(...args)=>jx.rc(jx.c31,'add',args,{bags:["dbadmin","dbadmin.select"]}),del:(...args)=>jx.rc(jx.c31,'del',args,{bags:["dbadmin","dbadmin.select"]}),},Filters:{show:(...args)=>jx.rc(jx.c32,'show',args,{bags:["dbadmin","dbadmin.select"]}),add:(...args)=>jx.rc(jx.c32,'add',args,{bags:["dbadmin","dbadmin.select"]}),del:(...args)=>jx.rc(jx.c32,'del',args,{bags:["dbadmin","dbadmin.select"]}),},Sorting:{show:(...args)=>jx.rc(jx.c33,'show',args,{bags:["dbadmin","dbadmin.select"]}),add:(...args)=>jx.rc(jx.c33,'add',args,{bags:["dbadmin","dbadmin.select"]}),del:(...args)=>jx.rc(jx.c33,'del',args,{bags:["dbadmin","dbadmin.select"]}),},},Sorting:{edit:(...args)=>jx.rc(jx.c34,'edit',args,{bags:["dbadmin","dbadmin.select"]}),save:(...args)=>jx.rc(jx.c34,'save',args,{bags:["dbadmin","dbadmin.select"]}),},},Values:{saveSelectLimit:(...args)=>jx.rc(jx.c35,'saveSelectLimit',args,{bags:["dbadmin","dbadmin.select"]}),saveTextLength:(...args)=>jx.rc(jx.c35,'saveTextLength',args,{bags:["dbadmin","dbadmin.select"]}),},},ResultSet:{page:(...args)=>jx.rc(jx.c36,'page',args,{bags:["dbadmin","dbadmin.select"]}),},Select:{show:(...args)=>jx.rc(jx.c37,'show',args,{bags:["dbadmin","dbadmin.select"]}),edit:(...args)=>jx.rc(jx.c37,'edit',args,{bags:["dbadmin","dbadmin.select"]}),},},},View:{Ddl:{Form:{add:(...args)=>jx.rc(jx.c38,'add',args,{bags:["dbadmin"]}),edit:(...args)=>jx.rc(jx.c38,'edit',args,{bags:["dbadmin"]}),},View:{show:(...args)=>jx.rc(jx.c39,'show',args,{bags:["dbadmin"]}),create:(...args)=>jx.rc(jx.c39,'create',args,{bags:["dbadmin"]}),update:(...args)=>jx.rc(jx.c39,'update',args,{bags:["dbadmin"]}),drop:(...args)=>jx.rc(jx.c39,'drop',args,{bags:["dbadmin"]}),},},Dql:{Select:{show:(...args)=>jx.rc(jx.c40,'show',args,{bags:["dbadmin","dbadmin.select"]}),edit:(...args)=>jx.rc(jx.c40,'edit',args,{bags:["dbadmin","dbadmin.select"]}),},},},},},},},};(function(global,factory){typeof exports==='object'&&typeof module!=='undefined'?factory(exports):typeof define==='function'&&define.amd?define(['exports'],factory):(global=typeof globalThis!=='undefined'?globalThis:global||self,factory(global.Spin={}));})(this,(function(exports){'use strict';var __assign=(undefined&&undefined.__assign)||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))
t[p]=s[p];}
return t;};return __assign.apply(this,arguments);};var defaults={lines:12,length:7,width:5,radius:10,scale:1.0,corners:1,color:'#000',fadeColor:'transparent',animation:'spinner-line-fade-default',rotate:0,direction:1,speed:1,zIndex:2e9,className:'spinner',top:'50%',left:'50%',shadow:'0 0 1px transparent',position:'absolute',};var Spinner=(function(){function Spinner(opts){if(opts===void 0){opts={};}
this.opts=__assign(__assign({},defaults),opts);}
Spinner.prototype.spin=function(target){this.stop();this.el=document.createElement('div');this.el.className=this.opts.className;this.el.setAttribute('role','progressbar');this.el.style.position=this.opts.position;this.el.style.width="0";this.el.style.zIndex=this.opts.zIndex.toString();this.el.style.left=this.opts.left;this.el.style.top=this.opts.top;this.el.style.transform="scale(".concat(this.opts.scale,")");if(target){target.insertBefore(this.el,target.firstChild||null);}
drawLines(this.el,this.opts);return this;};Spinner.prototype.stop=function(){if(this.el){if(this.el.parentNode){this.el.parentNode.removeChild(this.el);}
this.el=undefined;}
return this;};return Spinner;}());function getColor(color,idx){return typeof color=='string'?color:color[idx%color.length];}
function drawLines(el,opts){var borderRadius=(Math.round(opts.corners*opts.width*500)/ 1000)+'px';var shadow='none';if(opts.shadow===true){shadow='0 2px 4px #000';}
else if(typeof opts.shadow==='string'){shadow=opts.shadow;}
var shadows=parseBoxShadow(shadow);for(var i=0;i<opts.lines;i++){var degrees=~~(360 / opts.lines*i+opts.rotate);var backgroundLine=document.createElement('div');backgroundLine.style.position='absolute';backgroundLine.style.top="".concat(-opts.width / 2,"px");backgroundLine.style.width=(opts.length+opts.width)+'px';backgroundLine.style.height=opts.width+'px';backgroundLine.style.background=getColor(opts.fadeColor,i);backgroundLine.style.borderRadius=borderRadius;backgroundLine.style.transformOrigin='left';backgroundLine.style.transform="rotate(".concat(degrees,"deg) translateX(").concat(opts.radius,"px)");var delay=i*opts.direction / opts.lines / opts.speed;delay-=1 / opts.speed;var line=document.createElement('div');line.style.width='100%';line.style.height='100%';line.style.background=getColor(opts.color,i);line.style.borderRadius=borderRadius;line.style.boxShadow=normalizeShadow(shadows,degrees);line.style.animation="".concat(1 / opts.speed,"s linear ").concat(delay,"s infinite ").concat(opts.animation);backgroundLine.appendChild(line);el.appendChild(backgroundLine);}}
function parseBoxShadow(boxShadow){var regex=/^\s*([a-zA-Z]+\s+)?(-?\d+(\.\d+)?)([a-zA-Z]*)\s+(-?\d+(\.\d+)?)([a-zA-Z]*)(.*)$/;var shadows=[];for(var _i=0,_a=boxShadow.split(',');_i<_a.length;_i++){var shadow=_a[_i];var matches=shadow.match(regex);if(matches===null){continue;}
var x=+matches[2];var y=+matches[5];var xUnits=matches[4];var yUnits=matches[7];if(x===0&&!xUnits){xUnits=yUnits;}
if(y===0&&!yUnits){yUnits=xUnits;}
if(xUnits!==yUnits){continue;}
shadows.push({prefix:matches[1]||'',x:x,y:y,xUnits:xUnits,yUnits:yUnits,end:matches[8],});}
return shadows;}
function normalizeShadow(shadows,degrees){var normalized=[];for(var _i=0,shadows_1=shadows;_i<shadows_1.length;_i++){var shadow=shadows_1[_i];var xy=convertOffset(shadow.x,shadow.y,degrees);normalized.push(shadow.prefix+xy[0]+shadow.xUnits+' '+xy[1]+shadow.yUnits+shadow.end);}
return normalized.join(', ');}
function convertOffset(x,y,degrees){var radians=degrees*Math.PI / 180;var sin=Math.sin(radians);var cos=Math.cos(radians);return[Math.round((x*cos+y*sin)*1000)/ 1000,Math.round((-x*sin+y*cos)*1000)/ 1000,];}
exports.Spinner=Spinner;}));jaxon.dbadmin={};(function(self){const countTableCheckboxes=(checkboxId)=>$('#dbadmin-table-'+checkboxId+'-count').html($('.dbadmin-table-'+checkboxId+':checked').length);self.selectTableCheckboxes=(checkboxId)=>{$('#dbadmin-table-'+checkboxId+'-all').change(function(){$('.dbadmin-table-'+checkboxId,'#jaxon-dbadmin').prop('checked',this.checked);countTableCheckboxes(checkboxId);});$('.dbadmin-table-'+checkboxId).change(function(){countTableCheckboxes(checkboxId);});};self.setExportEventHandlers=(checkboxId)=>{$('#'+checkboxId+'-all').change(function(){$('.'+checkboxId,'#jaxon-dbadmin').prop('checked',this.checked);});const prefixLength=checkboxId.length-5;if(checkboxId.substring(prefixLength,checkboxId.length)==='-name'){$('.'+checkboxId,'#jaxon-dbadmin').change(function(){const dataCheckboxId=checkboxId.substring(0,prefixLength)+'-data-'+$(this).attr('data-pos');$('#'+dataCheckboxId,'#jaxon-dbadmin').prop('checked',this.checked);});}};self.setFileUpload=(container)=>{$(container).on('change',':file',function(){const fileInput=$(this);const numFiles=fileInput.get(0).files?fileInput.get(0).files.length:1;const label=fileInput.val().replace(/\\/g,'/').replace(/.*\//,'');const textInput=$(container).find(':text');const text=numFiles>1?numFiles+' files selected':label;textInput.length>0&&textInput.val(text);});};self.downloadFile=(url,filename)=>{const downloadLink=document.createElement("a");downloadLink.href=url;downloadLink.download=filename;document.body.appendChild(downloadLink);downloadLink.click();document.body.removeChild(downloadLink);};})(jaxon.dbadmin);jaxon.dom.ready(()=>{const spin={spinner:new Spin.Spinner({position:'fixed'}),count:0,cursor:jaxon.config.cursor.update,};jaxon.config.cursor.update={onRequest:function(){if(spin.count++===0){spin.spinner.spin(document.body);spin.cursor.onRequest();}},onComplete:function(){if(--spin.count===0){spin.spinner.stop();spin.cursor.onComplete();}},onFailure:function(){if(--spin.count===0){spin.spinner.stop();spin.cursor.onFailure&&spin.cursor.onFailure();}},};});(function(self){const editor={ace:null,page:'',fontSize:'13px',modes:{sql:'ace/mode/sql',mysql:'ace/mode/mysql',pgsql:'ace/mode/pgsql',},theme:'ace/theme/textmate',};self.createSqlQueryEditor=function(containerId,driver){editor.ace=ace.edit(containerId,{mode:editor.modes[driver]??editor.modes.sql,selectionStyle:"text",dragEnabled:false,useWorker:false,enableBasicAutocompletion:true,enableSnippets:false,enableLiveAutocompletion:true,showPrintMargin:false,});editor.ace.setTheme(editor.theme);editor.ace.session.setUseWrapMode(true);document.getElementById(containerId).style.fontSize=editor.fontSize;};self.createSqlSelectEditor=(containerId,driver)=>{editor.ace=ace.edit(containerId,{mode:editor.modes[driver]??editor.modes.sql,selectionStyle:"text",dragEnabled:false,useWorker:false,showPrintMargin:false,showLineNumbers:false,showGutter:false,readOnly:true,});editor.ace.setTheme(editor.theme);editor.ace.session.setUseWrapMode(true);editor.ace.resize();document.getElementById(containerId).style.fontSize=editor.fontSize;};self.getSqlQuery=()=>{const selectedText=editor.ace.getSelectedText();return selectedText?selectedText:editor.ace.getValue();};self.setSqlQuery=(query)=>editor.ace.session.setValue(query);const getQueryId=(node,tag)=>{while((parent=node?.parent())){if(parent.prop('tagName')?.toLowerCase()===tag){return parent.attr('data-query-id')??'';}
node=parent;}
return'';};const getHistoryQuery=(node)=>$('#dbadmin-history-query-'+getQueryId(node,'td')).text();const getFavoriteQuery=(node)=>$('#dbadmin-favorite-query-'+getQueryId(node,'td')).text();self.history={copySqlQuery:(node)=>self.setSqlQuery(getHistoryQuery(node)),insertSqlQuery:(node)=>editor.ace.insert(getHistoryQuery(node)),};self.favorite={getQueryId:(node)=>getQueryId(node,'td'),copySqlQuery:(node)=>self.setSqlQuery(getFavoriteQuery(node)),insertSqlQuery:(node)=>editor.ace.insert(getFavoriteQuery(node)),};})(jaxon.dbadmin);jaxon.dom.ready(()=>jaxon.dialog.register('bootbox',(self,options,utils)=>{const{labels,modal:modalOptions={},alert:alertOptions={},confirm:confirmOptions={},}=options;const dialog={dom:null,};self.show=({title,content,buttons,options},cbDomElement)=>{let btnIndex=1;const oButtons={};buttons.forEach(({title:label,class:className,click})=>{if(!utils.isObject(click)){oButtons.cancel={label,className:'btn-danger'};return;}
oButtons[`btn${btnIndex++}`]={label,className,callback:()=>{utils.js(click);return false;},};});dialog.dom=bootbox.dialog({...modalOptions,...options,title,message:content,buttons:oButtons,});cbDomElement(dialog.dom.get(0));};self.hide=()=>{if((dialog.dom)){dialog.dom.modal('hide');dialog.dom=null;}};const xTypes={success:'success',info:'info',warning:'warning',error:'danger',};self.alert=({type,message,title})=>{message='<div class="alert alert-'+(xTypes[type]??xTypes.info)+'" style="margin-top:15px;margin-bottom:-15px;">'+
(!message?'':'<strong>'+title+'</strong><br/>')+message+'</div>';bootbox.alert({...alertOptions,message});};self.confirm=({question,title},{yes:yesCb,no:noCb=()=>{}})=>bootbox.confirm({...confirmOptions,title:title,message:question,buttons:{cancel:{label:labels.no},confirm:{label:labels.yes}},callback:(res)=>{res?yesCb():noCb();},});}));jaxon.dom.ready(()=>jaxon.dialog.register('toastr',(self,options)=>{const{alert:alertOptions={},}=options;const xTypes={success:'success',info:'info',warning:'warning',error:'error',};self.alert=({type,message,title})=>{const func=xTypes[type]??xTypes.info;toastr[func](message,title,alertOptions);};}));jaxon.dom.ready(()=>jaxon.dialog.register('noty',(self,options)=>{const{labels,alert:alertOptions={},confirm:confirmOptions={},}=options;const xTypes={success:'success',info:'information',warning:'warning',error:'error',};self.alert=({type,message})=>{new Noty({...alertOptions,text:message,type:xTypes[type]??xTypes.info,layout:'topCenter',timeout:5000,}).show();};self.confirm=({question,title},{yes:yesCb,no:noCb=()=>{}})=>{const noty=new Noty({...confirmOptions,theme:'relax',text:question,layout:'topCenter',buttons:[Noty.button(labels.yes,'btn btn-success',()=>{noty.close();yesCb();},{'data-status':'ok'}),Noty.button(labels.no,'btn btn-error',()=>{noty.close();noCb();}),],});noty.show();};}));